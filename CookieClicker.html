<html>
<script>
var count = 0;
var rate = 1;
var cost = 100;
var clickerCost = 1000;
var clickerCount = 0;
async function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
   }
async function clickers() {
    while (true) {
        await sleep(1000);
        count = count + (rate*clickerCount);
        document.getElementById("cookieDisplay").innerHTML = count;
    }   
}
function addGen(){
    if (count >= cost){
        count = count - cost
        cost +=100
        rate +=1
        document.getElementById("costMsg").innerHTML = "Your new rate is " + rate + " cookies per click.";
        document.getElementById("cookieDisplay").innerHTML = count
    }
    
    else {
        document.getElementById("costMsg").innerHTML = "You don't have enough cookies! You need " + cost + " cookies to upgrade!"; 
    }
}
function swapper(){
    count = count + rate
    document.getElementById("cookieDisplay").innerHTML = count
}
function buyClicker(){
    if (count >= clickerCost){
        count = count - clickerCost
        clickerCost +=1000
        clickerCount +=1
        document.getElementById("clickercostMsg").innerHTML = "You now have " + clickerCost + " clickers.";
        document.getElementById("cookieDisplay").innerHTML = count
    }
    
    else {
        document.getElementById("clickercostMsg").innerHTML = "You don't have enough cookies! You need " + clickerCost + " cookies to upgrade!"; 
    }
}
clickers();
</script>
<style>
.center {
    display: block;
    margin-left: auto;
    margin-right: auto;
    max-width: auto;
    height: 50%;
}
</style>
<body>
<center><p id = "cookieDisplay">Hello! Click the cookie to get cookies!</p></center>
<button onclick = "addGen()">Increase cookies per click</button>
<p id = "costMsg">Collect cookies to upgrade your cookies per click!</p>
<button onclick = "buyClicker()">Buy an auto clicker </button>
<p id = "clickercostMsg">Clicks 1 time for you every second</p>
<img src="images/cookie.webp" onclick="swapper()" class = "center">
</body>
</html>     